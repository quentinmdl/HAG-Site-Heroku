{% extends 'base.html.twig' %}

{% block body %}
     <div class="article-form">
        <div class="justify-content-md-center" style="padding: 70px 0;">
            <div class="col-xs-12 col-md-9 mx-auto">
                <div class="text-center">
                    <h2>Création d'un article</h2>
                </div>
                {% for message in app.flashes('success') %}
                    <div class="alert alert-success">
                        {{ message }}
                    </div>
                {% endfor %}
                <h1>Créer/Supprimer une catégorie</h1>
                <div class="row">
                    <div class="col">
                        {{ form_start(formCategory) }}
                        <div>
                            {{ form_row(formCategory.title, {'label': 'Titre de la catégorie', 'attr' : {'placeholder' : "Entrez le titre de la catégorie" }}) }}
                        </div>
                        <div>
                            {{ form_row(formCategory.description, {'label': 'Description de la catégorie', 'attr' : {'placeholder' : "Entrez la description de la catégorie" }}) }}
                        </div>
                        <div class="col-12 text-center">
                            <button type="submit" class="btn btn-primary">Ajouter</button>
                        </div>   
                        {{ form_end(formCategory) }}
                    </div>
                </div>
                <div class"row">
                    <h2>Création d'un article</h2>
                    {{ form_start(formArticle) }}
                        <div>
                            {{ form_row(formArticle.category, {'label': 'Catégorie', 'attr' : {'placeholder' : "Choississez une catégorie" }}) }}    
                        </div>
                        <div> 
                            {{ form_row(formArticle.title, {'label': "Titre de l'article", 'attr' : {'placeholder' : "Titre de l'article" }}) }}
                        </div>
                        <div>
                            {{ form_row(formArticle.image, {'label': 'Image de couverture', 'attr' : {'placeholder' : "Image de l'article" }}) }}
                        </div>
                        <div>
                            {{ form_row(formArticle.description, {'label': "Contenu de l'article", 'attr' : {'placeholder' : "Description de l'article" }}) }}
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn btn-success">
                                {% if editMode %}
                                    Enregistrer les modifications
                                {% else %}   
                                    Ajoutez l'article
                                {% endif %}
                            </button>
                            {% if editMode %}
                            <a href="{{ path('article_delete', {'id': app.request.get('id') }) }}" class="btn btn-danger">Supprimer</a>
                            {% endif %}
                        </div>
                    {{ form_end(formArticle) }}
                </div>
            </div>
        </div>        
   </div>
{% endblock %}